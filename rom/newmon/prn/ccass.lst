		; Command module for Cassette tape load/store
			maclib	ram
**** ram.lib ****
**** ccass.asm ****
			maclib	core
**** core.lib ****
**** ccass.asm ****
			maclib	z80
**** z80.lib ****
**** ccass.asm ****
		
1000          		org	1000h
1000  01      	first:	db	HIGH (last-first)	; +0: num pages
1001  10      		db	HIGH first		; +1: ORG page
1002  FF00    		db	255,0	; +2,+3: phy drv base, num
		
1004  C31910  		jmp	init	; +4: init entry
1007  C32110  		jmp	cass	; +7: action entry
		
100A  FF      		db	-1	; +10: Command letter
100B  88      		db	88h	; +11: front panel key
100C  00      		db	0	; +12: port, 0 if variable
100D  FFFFFF  		db	11111111b,11111111b,11111111b	; +13: FP display
1010  43617373		db	'Cassette',0	; +16: mnemonic string
      65747465
      00
		
1019          	init:
1019  214410  		lxi	h,inimsg
101C  CD4400  		call	msgout
101F  AF      		xra	a	; NC
1020  C9      		ret
		
1021          	cass:
1021  3A5521  		lda	lstcmd
1024  FE88    		cpi	88h	; load key
1026  2807    		jrz	load
1028          	save:
1028  213610  		lxi	h,savmsg
102B  CD4400  		call	msgout
102E  C9      		ret
			;
102F          	load:
102F  213D10  		lxi	h,lodmsg
1032  CD4400  		call	msgout
1035  C9      		ret
		
1036  0D0A5361	savmsg:	db	13,10,'Save',0
      766500
103D  0D0A4C6F	lodmsg:	db	13,10,'Load',0
      616400
1044  0D0A4361	inimsg:	db	13,10,'Cassette',0
      73736574
      746500
		
104F  FFFFFFFF		rept	(($+0ffh) and 0ff00h)-$
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FFFFFFFF
      FF
0000          	if ($ > 1800h)
		endif
		
1100          	last:	end



Statistics:

     4	passes
     0	jr promotions
    74	symbols
   256	bytes

   180	macro calls
  3759	macro bytes
     0	invented symbols
